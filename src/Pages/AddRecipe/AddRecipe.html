<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="../../Styles/AddRecipe.css/AddRecipe.css" />
    <link rel="stylesheet" href="../../Styles/Landing/footer.css" />
    <link rel="stylesheet" href="../../Styles/Landing/header.css" />
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
  />
    <title>Perfect Recipe</title>
  </head>
  <body>
    <header class="header">
        <div class="logo">
          <span class="logo-icon">
            <i class="fas fa-utensils"></i>
          </span>
          <span class="logo-text">Perfect<span class="accent">Recipe</span></span>
        </div>
        <button class="menu-toggle" aria-label="Toggle menu">
          <div class="resNav">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </button>
        <nav class="nav">
          <ul>
            <li><a href="../Landing/Landing.html">Home</a></li>
            <li><a href="../RecipeList/RecipeList.html">Recipe</a></li>
            <li><a href="../AddRecipe/AddRecipe.html"  class="active">Add Recipe</a></li>
            <li><a href="../Blog/blog.html">blog</a></li>
            <li><a href="../AboutUs/About.html">About us</a></li>
          </ul>
        </nav>
        <div class="header-icons">
          <a href="#" class="icon-link"><i class="fas fa-search"></i></a>
          <a href="../Favorites/Favorites.html" class="icon-link heart-icon"
            ><i class="far fa-heart"></i
          ></a>
          <a href="#" class="icon-link profile-icon">
            <div class="profile-image">
              <img
                src="../../../Public/assets/hero/hero1.jpeg"
                alt="Profile"
              />
            </div>
          </a>
        </div>
      </header>
    <div class="recipe-form-header">
      <h2>Create New Recipe</h2>
      <button class = "save" type="submit" form="recipeForm">Save Recipe</button>
    </div>
      <div class="recipe-form">
        <form id="recipeForm">
          <label for="recipe-name">Recipe Name:</label>
          <input
            type="text"
            id="recipe-name"
            name="recipe-name"
            placeholder="Enter recipe name"
          />
          <label for="recipe-id">Recipe ID:</label>
          <input
            type="text"
            id="recipe-id"
            name="recipe-id"
            placeholder="Enter recipe ID"
          />
          <label for="recipe-images">Recipe Images:</label>
          <div class="image-gallery">
            <div class="main-image-container">
              <div class="main-image-container" style="position: relative;">
                <img id="main-image" src="" alt="Main recipe image" style="display: none;" />
                <button id="delete-main-image" style="display: none; position: absolute; top: 5px; right: 5px;">✕</button>
              </div>            </div>
            <div class="thumbnail-gallery">
              
              <div class="add-photo-button">
                <span class="add-photo-icon">+</span>
                <span class="add-photo-text">Add Photo</span>
              </div>
              <input type="file" id="imageUpload" accept="image/*" style="display: none;" />

            </div>
          </div>


          <label for="recipe-description">Description:</label>
          <textarea
            id="recipe-description"
            name="recipe-description"
            placeholder="Enter recipe description"
          ></textarea>

          <label for="course-name">Course Name:</label>
          <select id="course-name" name="course-name">
            <option value="">Select</option>
            <option value="appetizer">Appetizer</option>
            <option value="main-course">Main Course</option>
            <option value="dessert">Dessert</option>
          </select>

          <label>Ingredients:</label>
          <div class="ingredient-list" id="ingredient-list">
            <div class="ingredient-item">
              <input type="text" name="ingredient-id[]" placeholder="ID" />
              <input type="text" name="ingredient-name[]" placeholder="Name"/>
              <input
                type="text"
                name="ingredient-quantity[]"
                placeholder="Quantity"
              />
            </div>
            <button type="button" class="add-ingredient" id="addIngredientBtn">+ Add Ingredient</button>

          <label for="instructions">Instructions:</label>
          <textarea
            id="instructions"
            name="instructions"
            placeholder="Enter cooking instructions"
          ></textarea>
        </form>
      </div>
      <!-- <script>
        const recipe = {
          recipeName : document.getElementById("recipe-name"),
          recipeId: document.getElementById("recipe-id"),
          description: document.getElementById("recipe-description"),
          courseName : document.getElementById("recipe-name"),
          ingredients: [],
          Instructions: document.getElementById("recipe-name")
        }
        console.log(recipe.recipeName.val)
      </script> -->
      <script>
        const addIngredientBtn = document.getElementById("addIngredientBtn");
        const ingredientList = document.getElementById("ingredient-list");

        addIngredientBtn.addEventListener("click", () => {
          const newIngredient = document.createElement("div");
          newIngredient.classList.add("ingredient-item");
          newIngredient.innerHTML = `
            <input type="text" name="ingredient-id[]" placeholder="ID" />
            <input type="text" name="ingredient-name[]" placeholder="Name"/>
            <input type="text" name="ingredient-quantity[]" placeholder="Quantity" />
            <button type="button" class="remove-ingredient">✕</button>
          `;

          // Insert the new ingredient field above the button
          ingredientList.insertBefore(newIngredient, addIngredientBtn);
        });

        // Optional: Remove ingredient
        ingredientList.addEventListener("click", function(e) {
          if (e.target.classList.contains("remove-ingredient")) {
            e.target.parentElement.remove();
          }
        });

      
        const addPhotoBtn = document.querySelector('.add-photo-button');
        const imageInput = document.getElementById('imageUpload');
        const mainImage = document.getElementById('main-image');
        const deleteMainBtn = document.getElementById('delete-main-image');
      
        addPhotoBtn.addEventListener('click', () => {
          imageInput.click();
        });
      
        imageInput.addEventListener('change', () => {
          const file = imageInput.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              mainImage.src = e.target.result;
              mainImage.style.display = "block";
              deleteMainBtn.style.display = "block";
      
              // Optional: Add to thumbnail gallery
              const newThumb = document.createElement('div');
              newThumb.classList.add('thumbnail-item');
              newThumb.innerHTML = `
                <div style="position: relative;">
                  <img class="thumbnail-img" src="${e.target.result}" alt="Recipe thumbnail" />
                  <button class="delete-thumbnail" style="position:absolute; top:3px; right:3px;">✕</button>
                </div>`;
              document.querySelector('.thumbnail-gallery').insertBefore(newThumb, addPhotoBtn);
            };
            reader.readAsDataURL(file);
          }
        });
      
        deleteMainBtn.addEventListener('click', () => {
          mainImage.src = "";
          mainImage.style.display = "none";
          deleteMainBtn.style.display = "none";
          imageInput.value = ""; // Reset file input
        });
      
        // Event delegation to delete thumbnails
        document.querySelector('.thumbnail-gallery').addEventListener('click', (e) => {
          if (e.target.classList.contains('delete-thumbnail')) {
            e.target.closest('.thumbnail-item').remove();
          }
        });
      </script>
      
  </body>
</html>
<!-- comment -->
<!-- comment -->